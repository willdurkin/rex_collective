'use strict';(function(g){function d(){}function e(a,i){if(c)return i.indexOf(a);for(var b=i.length;b--;)if(i[b]===a)return b;return-1}var a=d.prototype,f=[],c=f.indexOf?!0:!1;a.getListeners=function(a){var c=this._events||(this._events={});return c[a]||(c[a]=[])};a.addListener=function(a,c){var b=this.getListeners(a);-1===e(c,b)&&b.push(c);return this};a.removeListener=function(a,c){var b=this.getListeners(a),f=e(c,b);-1!==f&&(b.splice(f,1),0===b.length&&(this._events[a]=null));return this};a.addListeners=
function(a,c){return this.manipulateListeners(!1,a,c)};a.removeListeners=function(a,c){return this.manipulateListeners(!0,a,c)};a.manipulateListeners=function(a,c,b){var f,h,e=a?this.removeListener:this.addListener,a=a?this.removeListeners:this.addListeners;if("object"===typeof c)for(f in c){if(c.hasOwnProperty(f)&&(h=c[f]))"function"===typeof h?e.call(this,f,h):a.call(this,f,h)}else for(f=b.length;f--;)e.call(this,c,b[f]);return this};a.removeEvent=function(a){a?this._events[a]=null:this._events=
null;return this};a.emitEvent=function(a,c){for(var b=this.getListeners(a),e=b.length;e--;)!0===b[e].apply(null,c||f)&&this.removeListener(a,b[e]);return this};"function"===typeof define&&define.amd?define(function(){return d}):g.EventEmitter=d})(this);
StackExchange.realtime=function(){function g(){if(!(null==m||1!=m.readyState))for(var a=0,b=u.length;a<b;a++)d("sending: "+u[a]),m.send(u[a])}function d(a){StackExchange.options.user.isEmployee&&console.log(a)}function e(){p.addListener("hb",function(a){m.send(a)})}function a(a){u.push(a);g()}function f(a,b){1!=$("#vote-accepted-"+a.answerid).length&&($(".vote-accepted-on").remove(),b||$('.vote input[value="'+a.answerid+'"]').parent().append('<span class="vote-accepted-on" title="The question owner accepted this as the best answer">accepted</span>'))}
function c(){$.ajax({type:"POST",url:"/review/suggested-edit-count",data:{fkey:StackExchange.options.user.fkey},dataType:"json",success:function(a){if(a&&a.count){var a=a.count,b=$(".suggested-edits-count");b.text()!=a&&(0==$(":animated").length&&b.fadeTo("fast",0.5).fadeTo("fast",1),b.text(a))}}})}function j(){$("#new-answer-activity").remove();$("#answers-header").prepend(t)}function i(a){var b=$(".question[data-questionid="+a.id+"], .answer[data-answerid="+a.id+"]"),c=$('<div class="new-post-activity" data-postid="'+
a.id+'">an edit has been made to this post; click to load</div>');0<b.find(".new-post-activity[data-postid="+a.id+"]").length||b.prepend(c.click(function(){$(".new-post-activity[data-postid="+a.id+"]").remove();0==$("#review-content").length&&$.get("/posts/ajax-load-realtime/{postIdsSemiColonDelimited}?title=true".formatUnicorn({postIdsSemiColonDelimited:a.id}),y(b.find(".postcell, .answercell"),a));$(document).trigger("refreshEdit",a.id)}))}function b(a,b,c){null!=StackExchange.options.user.accountId&&
StackExchange.tagPreferences.isIgnored(a.body)||(a.fetch&&$.ajax({url:"/posts/"+a.id+"/"+c}).done(function(b){a.body=b;o[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid}}),o[a.id]={id:a.id,body:a.body,index:(new Date).getTime(),siteid:a.siteid},$(".new-post-activity").remove(),$("#question-mini-list, #questions").prepend(z),0<$(".tag-sponsorship").length&&$("#question-mini-list, #questions").css("margin-top","0px"),b&&h())}function k(a,b){return a.index<b.index?-1:a.index>b.index?
1:0}function h(){var a=[],b;for(b in o)o.hasOwnProperty(b)&&a.push(o[b]);a=a.sort(k);for(b=0;b<a.length;b++){var c=a[b];$("#question-summary-"+c.id).remove();$(c.body).prependTo("#question-mini-list, #questions").hide().fadeIn()}l(0);null!=StackExchange.options.user.accountId&&StackExchange.tagPreferences.applyPrefs(!0,x);styleCode();n();$(".new-post-activity").remove();o={}}function l(a){var b=document.title.replace(/^\(\d*\*?\) /,"");0<a&&(b="("+a+") "+b);window.setTimeout(function(){$(document).attr("title",
b)},200)}function n(){for(var a=$("span.relativetime, span.relativetime-clean"),b=0;b<a.length;b++)if(a[b].title){var c;c=a[b].title;if(null==c||20!=c.length)c=void 0;else{c=c.substr(0,10)+"T"+c.substr(11,10);c=new Date(c);c=((new Date).getTime()-c.getTime())/1E3+StackExchange.options.serverTimeOffsetSec;var h=Math.floor(c/86400);c=isNaN(h)||0>h||31<=h?void 0:0==h&&(2>c&&"just now"||60>c&&Math.floor(c)+(r?"s ago":" secs ago")||120>c&&(r?"1m ago":"1 min ago")||3600>c&&Math.floor(c/60)+(r?"m ago":" mins ago")||
7200>c&&(r?"1h ago":"1 hour ago")||86400>c&&Math.floor(c/3600)+(r?"h ago":" hours ago"))}c&&(a[b].innerHTML=c)}}var m,o={},s=[],q=0,u=[],v=10,w=!1,r=!1,x,p=new EventEmitter,t=function(){var a=Object.keys(s).length;0==a&&$("#new-answer-activity").remove();return $('<div id="new-answer-activity">'+a+" new answer"+(1<a?"s":"")+" to this question</div>").click(function(){StackExchange.realtime.expandAnswers()})},y=function(a,b){return function(c){var h=$(c).filter(".question, .answer"),f=h.find(".postcell, .answercell"),
e=a.closest(".question"),i=0<e.length,d=$("h1 a.question-hyperlink"),g=h.data("title"),k=i&&$.trim(d.text())!=g,l=$(".question-status"),j=function(a,b){return function(){return $.Deferred(function(c){null==b||b()?a.animate({opacity:0},150).promise().done(function(){c.resolve()}):c.resolve()})}},h=j(d,function(){return k}),q=j(a),j=j(l);$.when(h(),q(),j()).done(function(){k&&d.text(g).animate({opacity:1},150);var b=function(a,b){return new $.Deferred(function(c){b.css({opacity:0});a.replaceWith(b);
b.animate({opacity:1},150,function(){c.resolve()})})};b(a,f).done(function(){styleCode();StackExchange.question.bindSuggestedEditPopupLinks();i&&StackExchange.inlineTagEditing&&StackExchange.inlineTagEditing.init()});var h=$(c).filter(".question-status");h.length?(l.length||(l=$("<div>").addClass("question-status").insertAfter(e)),b(l,h)):l.remove()});window.history.pushState(b,"new post","#"+b.id)}},z=function(){var a=Object.keys(o).length;l(a);return $('<div class="new-post-activity">'+a+" question"+
(1<a?"s":"")+" with new activity</div>").click(function(){StackExchange.realtime.expandActiveQuestions()})};return{init:function(a){var b=a.split(","),b=b[q%b.length];null!=b&&0!=b.indexOf("ws://")&&0!=b.indexOf("wss://")&&(b=("https:"===document.location.protocol?"wss://":"ws://")+b);if("WebSocket"in window||"MozWebSocket"in window){if(m)try{d("closing WebSocket"),m.close()}catch(c){}m||(d("opening WebSocket to: "+b),m="WebSocket"in window?new WebSocket(b):new MozWebSocket(b),m.onopen=function(){w||
(w=!0);q=0;d("WebSocket opened");g();e();setInterval(n,6E4)},m.onmessage=function(a){a=$.parseJSON(a.data);p.emitEvent(a.action,[a.data])},m.onclose=function(){m=null;d("WebSocket closed");5>q&&0<v&&(q++,v--,d("reconnect attempt:"+q+" max retries:"+v),setTimeout(function(){StackExchange.realtime.init(a)},1E3*((new Date).getTime()%50/20)))},m.onerror=function(){d("WebSocket failed");m=null})}},expandActiveQuestions:h,expandAnswers:function(){$("#tabs").show();$("#new-answer-activity").remove();var a=
$("#answers #answers-header"),b=a.find(".answers-subheader h2"),c=parseInt(b.text())+s.length;isNaN(c)&&(c=s.length);b.text(c+" Answer"+(1<c?"s":""));$.ajax({url:"/posts/ajax-load-realtime/{postIdsSemiColonDelimited}".formatUnicorn({postIdsSemiColonDelimited:s.join(";")})}).done(function(b){var c=$('<div class="dno" />').append(b);c.insertAfter(a).fadeIn(400,function(){c.removeClass("dno");styleCode();StackExchange.vote.init($(".question").data("questionid"));c.find(".answer").each(function(){StackExchange.comments.init({post:$(this)})})})});
StackExchange.question.bindSuggestedEditPopupLinks();n();s=[]},subscribeToActiveQuestions:function(c,h,f,e,i,d,g){c=c+"-"+h;x=f;r=d;a(c);p.addListener(c,function(a){a=$.parseJSON(a);if(null!=i)for(var c=0;c<i.length;c++)if(-1==$.inArray(i[c],a.tags))return;b(a,e,h);null!=g&&g(a)})},subscribeToInboxNotifications:function(){if(null!=StackExchange.options.user.accountId){var b=StackExchange.options.user.accountId+"-inbox";a(b);p.addListener(b,function(a){$(".unreadCount").remove();var b=$('<a class="unreadCount" title="unread messages in your inbox">'+
a+"</a>").insertAfter(".genu");$("#portalLink .unreadCount").css({marginTop:b.css("margin-top"),opacity:1},2E3);genuwine.setUnreadCount(a)})}},subscribeToQuestion:function(b,c){var h=b+"-question-"+c;a(h);p.addListener(h,function(a){var b=$.parseJSON(a);if(b.acctid!=StackExchange.options.user.accountId)switch(b.a){case "score":a=$('.vote input[value="'+b.id+'"]').siblings(".vote-count-post");a.text()!=b.score&&(a.text(b.score),0==$(":animated").length&&a.fadeTo("fast",0.7).fadeTo("fast",1),StackExchange.question.canViewVoteCounts()&&
StackExchange.vote.bindFetchVoteCounts());break;case "comment-add":if(0==$("#comment-"+b.commentid).length){var a=$("#comments-link-"+b.id),c=a.clone(!0).attr("id","hidden-"+a.attr("id")).hide();a.is("span")&&(b=$('<a id="comments-link-'+b.id+'" href="#"></a>'),a.replaceWith(b),a=b);a.after(c);b=a.data("comments-count")||0;b++;a.data("comments-count",b);a.attr("title","expand to show all comments on this post, or add one of your own");a.html("add / show <b>"+b+"</b> more comment"+(1<b?"s":"")).show().fadeTo("fast",
0.7).fadeTo("fast",1)}break;case "answer-add":0==$("#answer-"+b.answerid).length&&(s.push(b.answerid),StackExchange.cardiologist&&(StackExchange.cardiologist.isHeartBeating()?StackExchange.helpers.DelayedReaction(j,5E3).trigger():j(),StackExchange.cardiologist.notifiedOfNewAnswer()));break;case "accept":f(b);break;case "unaccept":f(b,!0);break;case "post-edit":i(b)}})},unsubscribeToQuestion:function(a,b){var c=a+"-question-"+b;d("unsubscribing: "+c);var h=$.inArray(c,u);-1!=h&&(u.splice(h,1),null==
m||1!=m.readyState||m.send("-"+c))},subscribeToReputationNotifications:function(b){null!=StackExchange.options.user.accountId&&(b=b+"-"+StackExchange.options.user.userId+"-reputation",a(b),p.addListener(b,function(a){var b=$("#hlinks .reputation-score");b.text()!=a.score&&(0==$(":animated").length&&b.fadeTo("fast",0.8).fadeTo("fast",1),b.text(a))}))},subscribeToSuggestedEdits:function(b){b+="-suggested-edits-count-update";a(b);p.addListener(b,function(){c()})},updateRelativeDates:n,subscribeToReviewDashboard:function(b){b+=
"-review-dashboard-update";a(b);p.addListener(b,function(a){var a=$.parseJSON(a),b=$('.dashboard-activity[data-review-task="'+a.i+'"]');0==b.find('.dashboard-user[data-user="'+a.u+'"]').length&&(b.find(".dashboard-user:nth-child(6)").remove(),b.children().css({left:"-44px"}),b.prepend(a.html).children().animate({left:0}))})}}}();"use strict";StackExchange.anonymous={};
var gauth=function(){return{informStackAuth:function(g){if(gauth.enabled()){var d=document.domain;"meta."==d.substr(0,5)&&(d=d.substr(4,d.length-4));var e=$.cookie("gauth");if(null==e)$.cookie("gauth",null,{path:"/",domain:d}),$.cookie("gauth",null,{path:"/",domain:document.domain});else{"."!=d.charAt(0)&&(d="."+d);$.cookie("gauth",null,{path:"/",domain:d});$.cookie("gauth",null,{path:"/",domain:document.domain});var a=e.indexOf(":"),d=e.substr(0,a),e=e.substr(a+1),f=g+"/auth/global/write?authToken="+
encodeURIComponent(d)+"&nonce="+encodeURIComponent(e);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+f+"'></iframe>")})}}},checkStackAuth:function(g){if(gauth.enabled()&&null==$.cookie("gauthed")){$.cookie("gauthed","1",{path:"/"});var d=function(e){if(e.origin==g)if("No Local Storage"==e.data)gauth.noGAuthStorage();else if("No Session"==e.data)gauth.noGAuthSession();else{var a=e.data.substr(0,e.data.indexOf(",")),e=e.data.substr(e.data.indexOf(",")+1);$.post("/users/login/global",
{authToken:a,nonce:e},function(a){gauth.globallyAuthed(a)},"json")}};window.attachEvent?window.attachEvent("onmessage",d):window.addEventListener("message",d,!1);$.post("/users/login/global/request","",function(e){var a=g+"/auth/global/read?request="+encodeURIComponent(e.token)+"&nonce="+encodeURIComponent(e.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+a+"'></iframe>")})},"json")}},enabled:function(){$.cookie("enabledCheck","1");
if(null==$.cookie("enabledCheck"))return!1;$.cookie("enabledCheck",null);return"undefined"==typeof localStorage?!1:!0},noGAuthStorage:function(){},noGAuthSession:function(){},globallyAuthed:function(g){if(g&&g.Message){var g=g.Message+" ",d,e=!1,a=""+window.location,f=a.indexOf("returnurl=");if(-1!=f){var c=a.indexOf("&",f);-1==c&&(c=a.length);d=decodeURIComponent(a.substring(f+10,c));d=/^(?:http:\/\/|\/)/.test(d)?d.replace(/[^-a-z0-9+&@#\/%?=~_|!:,.;()]/g,""):null}-1!=a.indexOf("/users/login")&&
(e=!0,d=d||"/");StackExchange.helpers.showFancyOverlay({message:e?g+"<br>You are being redirected...":g+(d?"<a href=\"javascript:window.location='"+d+"'\">Click here</a> to return to your last location.":'<a href="javascript:location.reload(true)">Click here</a> to refresh the page.'),showClose:!e,complete:function(){e&&(window.location=d)}})}}}}(),genuwine=function(){var g,d="",e,a,f=[],c=function(){return $(".genu").hasClass("genu-on")},j=function(){var c=$(".genu"),h=$("#seWrapper");if(0==h.length||
0<e||a){b();var h=$("#seWrapper"),d;0<e?(d=$("#seTabInbox"),s(d)):a?(d=$("#seTabNotices"),k(d)):(d=$("#seTabHot"),n(d));d.addClass("seCurrent")}if(d=c.hasClass("genu-on")){$(".unreadCountTab").remove();$("#portalLink .itemBoxNew").removeClass("itemBoxNew");h.fadeOut("fast");for(h=0;h<f.length;h++)f[h]();f=[];0<a&&$("#portalLink .unreadCount").text(""+a).addClass("newNotices").show().click(j)}else h.fadeIn("fast"),$("#portalLink .unreadCount").hide();c.toggleClass("genu-on",!d);-1==e&&$(c).ready(function(){$("#seTabInbox").hide()});
i($("#seTabInbox"),$("#seTabNotices"))},i=function(b,c){StackExchange.options.site.isNoticesTabEnabled&&a&&0==c.find(".unreadCountTab").length&&c.prepend('<span class="unreadCountTab newNotices">'+a+"</span>");0<e&&0==b.find(".unreadCountTab").length&&b.prepend('<span class="unreadCountTab">'+e+"</span>")},b=function(){$("#seWrapper").remove();var a='<div id="seWrapper" class="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+d+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li>'+
(!StackExchange.options.user.isAnonymous?'<li><a id="seTabInbox">Inbox</a></li>':"")+(!StackExchange.options.user.isAnonymous&&StackExchange.options.site.isNoticesTabEnabled?'<li><a id="seTabNotices">Notifications</a></li>':"")+'</ul></div><div class="seContainer"></div><div class="seFooter"><a id="seClose">close</a></div></div>',b=$("#hlinks"),b=b.height()+b.offset().top+5;$(a).appendTo("#portalLink").css({top:b}).find("ul.seNavLinks a").click(function(){var b=$(this);$(".seNavLinks a").removeClass("seCurrent");
b.addClass("seCurrent");switch(b.attr("id")){case "seTabHot":n(b);$("#seContainerSites, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerHot").fadeIn("fast");break;case "seTabSites":0==$("#seContainerSites").length&&l(b);$("#seContainerHot, #seContainerInbox, #seContainerEmail, #seContainerNotices").hide();$("#seContainerSites").fadeIn("fast");break;case "seTabInbox":s(b);$("#seContainerHot, #seContainerSites, #seContainerEmail, #seContainerNotices").hide();$("#seContainerInbox").fadeIn("fast");
break;case "seTabNotices":k(b),$("#seContainerHot, #seContainerSites, #seContainerInbox, #seContainerEmail").hide(),$("#seContainerNotices").fadeIn("fast")}});$("#seClose").click(function(){j()})},k=function(b){0==$("#seContainerNotices").length&&w(b,"/notices/genuwine","jsonp",h,!0)},h=function(b,c){for(var h='<div id="seContainerNotices" style="display:none">',e=0;e<c.length;e++){var d=c[e],g=d.text,l=d.is_unread,k=d.site_url,j=d.icon,q=d.hasOwnProperty("type")?' data-type="'+d.type.toString()+
'"':"";null!=d.switch_type&&(q=q+' data-sw-type="'+d.switch_type.toString()+'" data-sw-site="'+d.site_id.toString()+'"');h+='<div class="noticeBox'+(l?" itemBoxNew":"")+'"'+q+'><a href="'+k+'" class="siteLinkFavicon"><img src="'+j+'"></a><div class="siteInfo"><p>'+g+"</p></div></div>"}r(b,h+"</div>","notifications_popup.click");f.push(function(){a=0;i($("#seTabInbox"),$("#seTabNotices"))});a=0},l=function(b){w(b,d+"/genuwine/sites?callback=?&host="+document.location.host+(g?"&accountId="+g:""),"jsonp",
o)},n=function(b){0==$("#seContainerHot").length&&w(b,d+"/genuwine?callback=?","jsonp",m)},m=function(b,a){for(var c=$("<div/>"),h='<div id="seContainerHot" style="display:none">',f=0;f<a.length;f++)var e=a[f],d=e.SiteId,i='href="http://'+d+"/q/"+e.Id+'?hq=1"',g=parseInt(e.DisplayScore,10),l=e.Sid,h=h+('<div class="itemBox"'+(null==l?"":' data-sw-type="2" data-sw-site="'+l.toString()+'"')+"><a "+i+' class="seNumAnswer">'+g+'</a><div class="siteInfo"><p><a '+i+">"+c.text(e.Title).html()+'</a></p><a href="http://'+
d+'" class="siteLink">'+d+"</a></div></div>");r(b,h+"</div>")},l=function(b){w(b,d+"/genuwine/sites?callback=?&host="+document.location.host+(g?"&accountId="+g:""),"jsonp",o)},o=function(b,a){for(var c='<div id="seContainerSites" style="display:none">',h=0;h<a.length;h++)var e=a[h],f=e.Name,d='href="http://'+e.Id+'?as=1"',i=e.Sid,c=c+('<div class="itemBox"'+(null==i?"":' data-sw-type="3" data-sw-site="'+i.toString()+'"')+"><a "+d+' class="siteFavicon"><img src="'+e.FaviconUrl+'" alt="'+f+'"></a><div class="siteInfo"><p><a '+
d+">"+f+"</a></p><a "+d+' class="siteLink">'+e.Description+"</a></div></div>");r(b,c+"</div>")},s=function(b){-1!=e&&(0==$("#seContainerInbox").length||0<e)&&q(b)},q=function(b){w(b,"/inbox/genuwine","json",u,!0)},u=function(b,a){for(var c='<div id="seContainerInbox" style="display:none">',h=0;h<a.length;h++){var d=a[h],l='href="'+d.Url+'"',k='title="'+d.CreationDate+'"',j=d.Count,q=d.IsNew?" itemBoxNew":"",m=d.hasOwnProperty("ItemType")?' data-type="'+d.ItemType.toString()+'"':"";null!=d.SiteId&&
(m=m+' data-sw-type="7" data-sw-site="'+d.SiteId.toString()+'"');c+='<div class="itemBox'+q+'"'+m+"><a "+l+' class="siteLinkFavicon"><img src="'+d.FaviconUrl+'" alt="'+d.SiteUrl+'"></a><div class="siteInfo">';"careers message"==d.Type?c+="<p><a "+l+' style="font-weight:normal"><b>'+d.Title+"</b> wants to contact you on <b>Stack Overflow Careers</b></a></p>":"invitation"==d.Type?(k=d.Count,c+="<p><a "+l+' style="font-weight:normal"><b>'+k+"</b> "+("invitation"+(1<k?"s":""))+" awarded on <b>Stack Overflow Careers</b></a></p>"):
c+="<p>"+(1<j?j+" ":"")+d.Type+" on <a "+l+" "+k+">"+d.Title+"</a></p>";c+='<p class="inboxSummary">'+(d.Summary||"")+"</p></div></div>"}g&&5<=a.length&&(c+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+g+'?tab=inbox">more inbox messages &hellip;</a></div></div>');r(b,c+"</div>","inbox_popup.click");f.push(function(){e=0;i($("#seTabInbox"),$("#seTabNotices"))});e=0},v={},w=function(b,a,c,h,d){var e=b.attr("id");if(v[e])x();else{v[e]=!0;x();var f=function(){v[e]=
!1;StackExchange.helpers.showErrorMessage($("#seWrapper .seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:a,dataType:c,success:function(a){v[e]=!1;a&&(0<a.length||d)?h(b,a):f()},error:f,complete:function(){$("#seWrapper .seContainer").removeSpinner()}})}},r=function(b,a,c){a=$(a);a.prependTo("#seWrapper .seContainer");a.find(".itemBox a, .noticeBox a").click(function(){var b=$(this).closest(".itemBox, .noticeBox");c&&c.length&&StackExchange.gps.track(c,
{item_type:b.data("type")});var a=b.data("sw-type"),b=b.data("sw-site");null!=a&&null!=b&&StackExchange.gps.track("site.switch",{item_type:a,target_site:b})});b.hasClass("seCurrent")&&a.fadeIn("fast")},x=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner("#seWrapper .seContainer",{position:"relative",left:"10px",top:"10px"})},p=function(){var b=$("#portalLink .unreadCount"),a=b.css("margin-top");b.css({marginTop:-20,opacity:0}).show().animate({marginTop:a,opacity:1},
2E3)},t=function(){var b=$("#portalLink .unreadCount"),a=b.data("events");(!a||!a.click)&&0<b.length&&b.click(j)};return{isVisible:c,click:j,setUnreadCount:function(b){e=b;var a=$("#seTabInbox");0<b?($("#portalLink .unreadCount").text(e),a.hasClass("seCurrent")&&c()&&q(a),p()):$("#portalLink .unreadCount").text("").hide();$("#portalLink .unreadCount").removeClass("newNotices");t()},animateInbox:p,init:function(b,h,f){var i=$(".genu");1<=i.length&&(i[0].onclick=null);g=b;d=i.attr("href");e=h;a=f;!(0<
e)&&StackExchange.options.site.isNoticesTabEnabled&&(99<a&&(a=99),0<a&&$("#portalLink .unreadCount").text(""+a).addClass("newNotices"),t());i.removeAttr("href").click(j);t();$(document).click(function(b){c()&&!$.contains($("#portalLink")[0],b.target)&&j()})}}}();
StackExchange.notify=function(){function g(b,a){var c=$("#dismissed-messages");c.val(c.val()+"~"+b+(a?" "+a:"")+"~")}function d(b,a){var c=$("#dismissed-messages").val();return!c?!1:RegExp("~"+b+(a?" "+a:"")+"~").test(c)}function e(b,a,c){var d=parseInt($("body").css("margin-top").match(/\d+/)),b=a*d/b;c?$("body:not(.no-message-slide)").animate({marginTop:b+"px"},"fast","linear"):$("body:not(.no-message-slide)").css("marginTop",b+"px")}var a=0,f=function(b,c){var h=$("#notify-"+b+(c?"-"+c:""));-1==
b?$.cookie("m","0",{expires:90,path:"/"}):-1<b&&$.post("/messages/mark-as-read",{messagetypeid:b,id:c?c:null});g(b,c);a--;h.fadeOut("fast",function(){e(a+1,a,!0);h.remove()})},c=function(b){a++;if(d(b.messageTypeId,b.id))return!1;var c="";b.messageTypeId&&(c=' id="notify-'+b.messageTypeId+(b.id?"-"+b.id:"")+'"');c="<div"+c+' style="display:none"><span class="notify-close"><a title="dismiss this notification">&times;</a></span><span class="notify-text">'+b.text+"</span>";if(b.showProfile)var h=encodeURIComponent("/users/"+
b.userId+"?tab=badges&sort=recent"),c=c+(' See your <a href="/messages/mark-as-read?messagetypeid='+b.messageTypeId+"&returnurl="+h+'">profile</a>.');c=$(c+"</div>");c.find(".notify-close").click(function(){b.close&&b.close();f(b.messageTypeId,b.id)});$("#notify-container").append(c);return!0},j=function(){$("#notify-container div").fadeIn("slow")},i=function(b,a){var h=$('<div class="link-more"><a>view '+b+" more notification"+(1!=b?"s":"")+"</a></div>");$("#notify-container").append(h);h.click(function(){h.detach();
for(var b=0;b<a.length;b++)c(a[b]);j()})};return{showMessages:function(b,d){for(var h=0,f=d?2:b.length,g=0;g<f&&g<b.length;g++)c(b[g])&&h++;e(a,h,!1);j();d&&h<b.length&&(f=b.slice(f),i(b.length-h,f))},show:function(b,a){$("body:not(.no-message-slide)").animate({marginTop:"2.5em"},"fast","linear");c({text:b,messageTypeId:a});j()},close:f,getMessageText:function(b){return $("#notify-"+b+" .notify-text").text()}}}();
function moveScroller(){var g=$("#scroller").width(),d=function(){var d=$(window).scrollTop(),a=$("#scroller-anchor").offset().top,f=$("#scroller");d>a?f.height()>$(window).height()?f.css({position:"fixed",top:"",bottom:"0px",width:g}):f.css({position:"fixed",top:"0px",bottom:"",width:g}):d<=a&&f.css({position:"relative",top:"",bottom:""})};$(window).scroll(d).resize(d);d()}
var styleCode=function(){return function(){"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);var g=!1;$("pre code").parent().each(function(){$(this).hasClass("prettyprint-override")&&($(this).removeClass("prettyprint-override").addClass("prettyprint"),g=!0);var d;if(d=!$(this).hasClass("prettyprint")){d=$(this);var e=$("#prettify-lang").text();""!=e?(d.addClass(e),d=!0):d=!1}d&&($(this).addClass("prettyprint"),g=!0)});g&&("undefined"!=typeof jtab?jtab.renderimplicit():StackExchange.using("prettify",
function(){StackExchange.prettify.applyCodeStyling()}))}}();
StackExchange.helpers.MagicPopup=function(g){function d(b,a){var c=$("<div id='"+g.id+"'/>").html(a),d=$("<div />").css({overflow:"hidden",position:"absolute","z-index":1002,width:1,height:1,top:0,left:0}).append(c).appendTo("body");window.MathJax&&MathJax.Hub.Typeset(c.attr("id"));var i=g.showing(b,c),j={left:i.left};i.hasOwnProperty("bottom")?(j.bottom=i.bottom,j.top="auto"):j.top=i.top;var o;g.shown&&(o=function(){g.shown(b,c)});d.css(j).animate({height:c.outerHeight()+8,width:c.outerWidth()+8},
300,o);e=function(){d.stop().remove();g.removed&&g.removed(b,c);e=f=null};f=StackExchange.helpers.DelayedReaction(e,5);j=d;i.additional&&(j=j.add(i.additional));j.hover(f.cancel,f.trigger)}var e,a,f,c,j={},i=StackExchange.helpers.DelayedReaction(function(b,a){if(!c&&b){var h;g.cache&&"c_"+b in j?h=$.Deferred().resolve(j["c_"+b]):(h=$.ajax({type:"GET",url:b,dataType:"html"}),g.cache&&h.done(function(a){j["c_"+b]=a}));h.done(function(b){e&&e();""!=b&&d(a,b)})}},500);$(document).delegate(g.selector,
{mouseenter:function(){if(f&&this===a)f.cancel();else return a=this,i.trigger(g.getUrl(this),this),c=!1},mouseleave:function(){c=!0;i.cancel();f&&f.trigger()}})};
StackExchange.tagmenu=function(){function g(a){var a=$(a),c=a.attr("href");if(!c||"/"!=c.charAt(0))return null;c=a.text();if(-1<c.indexOf("*"))return null;a.attr("title","");return"/tags/"+encodeURIComponent(c)+"/subscriber-info"}function d(a,c){var d=$(a),e=d.offset(),b=d.outerHeight(),d={left:e.left},g=e.top+b,b=e.left+c.outerWidth();c.height()+g>$(window).height()+$(window).scrollTop()?d.bottom=$(window).height()-e.top-8:d.top=g;e=Math.max(1024,$(window).width());b>e&&(d.left-=b-e);return d}var e,
a;return{init:function(f){e=f;a||(a=!0,StackExchange.options.isMobile||(StackExchange.helpers.MagicPopup({selector:".post-tag:not(.user-tag,.no-tag-menu)",id:"tag-menu",getUrl:g,showing:d,shown:function(a,d){e&&e(d,$(a).text())}}),$("#interesting-tags .post-tag").addClass("user-tag")))}}}();
StackExchange.usermenu=function(){function g(d,c){var e=$(d).find("img:first"),i=e.offset(),b=e.height(),g=e.width(),h=Math.max(g,b),l=64*b/h,h=64*g/h,n=c.find("img:first").css({width:h,height:l}),m=n.offset();n.css("visibility","hidden");a=e.clone().css({position:"absolute",zIndex:1003,left:i.left,top:i.top,width:g,height:b}).appendTo("body");var o=function(){n[0].complete?(n.css("visibility","visible"),a.fadeOutAndRemove()):setTimeout(o,500)};a.animate({width:h,height:l,top:i.top+m.top},200,o);
return{top:i.top,left:i.left-m.left,additional:a}}function d(){a.remove()}var e,a;return{init:function(){e||(e=!0,StackExchange.options.isMobile||StackExchange.helpers.MagicPopup({selector:".user-hover .user-gravatar48, .user-hover .user-gravatar32",getUrl:function(a){a=/\/users\/([^/]+).*$/.exec($(a).closest(".user-hover").find(".user-details a").attr("href"));return!a?null:"/users/user-info/"+a[1]},cache:!0,id:"user-menu",showing:g,removed:d}))}}}();
StackExchange.chatAd=function(){function g(){var a=$(".question .post-taglist .post-tag");return!a.length?null:a.map(function(a,b){return $(b).text()}).get().join(" ")}function d(a){return 10>a?"0"+a:a}function e(a){var b=new Date;b.setTime(1E3*a);return[b.getUTCFullYear(),"-",d(b.getUTCMonth()+1),"-",d(b.getUTCDate())," ",d(b.getUTCHours()),":",d(b.getUTCMinutes()),":",d(b.getUTCSeconds()),"Z"].join("")}function a(a){var b=Math.floor((new Date).getTime()/1E3)-a,c=b%60,h=Math.floor(b/60),e=Math.floor(b/
3600);if(1>b)return"just now";if(60>b)return 1==c?"1 sec ago":c+" secs ago";if(3600>b)return 1==h?"1 min ago":h+" mins ago";if(86400>b)return 1==e?"1 hour ago":e+" hours ago";b=Math.floor(b/86400);if(1==b)return"yesterday";if(2>=b)return b+" days ago";a=new Date(1E3*a);return s[a.getMonth()]+" "+a.getDate()+" at "+a.getHours()+":"+d(a.getMinutes())}function f(a){var b=$("<div />");b.text(a);return b.html().replace('"',"&quot;")}function c(){$.get(l,null,function(a,b,c){k(a,b,c)})}function j(a){if("!"==
a.charAt(0)){a=a.substr(1);if(/^http:\/\/i.stack.imgur.com\//.test(a))var b=/\?/.test(a)?"&":"?",a=a+(b+"g&s=32");return a}return"https://www.gravatar.com/avatar/"+a+"?s=23&d=identicon&r=PG"}function i(b){for(var c=$('<div class="ad502-users" />'),d=0;d<b.length&&7>d;d++){var e=b[d],f=e.name;e.lastPost&&(f+=": "+a(e.lastPost));var i=$('<a href="'+(h+"/users/"+e.id)+'" />');$("<img height='23' width='23' />").attr("title",f).attr("src",j(e.emailhash)).appendTo(i);c.append(i)}return c}function b(a){var b=
a.user;return(a=a.userid)?'<a href="'+h+"/users/"+a+'">'+f(b)+"</a>":f(b)}function k(d){var g=$("#ad502-rooms");if(!d.error){g.html("");for(var j=d.rooms,l=0;l<j.length&&2>l;l++){var k=j[l],s=h+"/rooms/"+k.id,p=$('<div class="ad502-room"></div>');p.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+f(k.name)+'"><a href="'+s+'">'+f(k.name)+"</a></span></h3>"));k.messages&&0<k.messages.length&&p.append($('<span title="'+e(k.lastPost)+'" class="ad502-last-message">'+a(k.lastPost)+
" - "+b(k.messages[0])+"</span><br>"));k.singleImage?p.append($('<div class="ad502-users"><img src="'+h+"/rooms/users/"+k.id+'.jpeg" /></div>')):p.append(i(k.users));g.append(p)}1<d.activeUsers?$("#h-chat-link").text(d.activeUsers+" People Chatting"):$("#h-chat-link").text("Visit Chat");$("#h-chat-link").attr("title",d.activeUsers+" users active in "+d.activeRooms+" rooms the last 60 minutes")}n<=o&&window.setTimeout(c,1E3*n);n+=m}var h,l,n=180,m=30,o=480,s="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(",");
/^\/questions\/\d+/i.test(window.location.pathname)&&(o=0);return{init:function(a){h=a.chatUrl;l=a.reloadUrl;if(a.tagBased){var b=g();if(!b)return;l+=(/\?/.test(l)?"&":"?")+"tags="+encodeURIComponent(b)}null===a.preloadData?c():k(a.preloadData,null,null)}}}();
StackExchange.helpers.noDiacritics=function(){var g={"\u00e0\u00e5\u00e1\u00e2\u00e4\u00e3\u00e5\u0105\u0250\u1d44\u1d9b":"a","\u00e6\u01e3\u01fd\u1d02\u1d46":"ae","\u00e7\u0107\u010d\u0109":"c","\u0111\u018d\u00f0\u00d0":"d","\u00e8\u00e9\u00ea\u00eb\u0119\u01dd\u1d08\u1d4c":"e","\u214e":"f","\u011f\u011d\u1d77":"g","\u0125\u0265\u02ae\u1da3":"h","\u00ec\u00ed\u00ee\u00ef\u0131\u1d09\u1d4e":"i","\u0135":"j","\u029e":"k","\u0142":"l","\u026f\u0270\u1d5a\u1dad\u1d1f":"m","\u00f1\u0144":"n","\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u0151":"o",
"\u0153\u0276\u1d14":"oe","\u0159\u0279\u027a\u027b\u02b4\u02b5":"r","\u015b\u015f\u0161\u015d":"s","\u00df":"ss","\u0287":"t","\u00de":"th","\u00f9\u00fa\u00fb\u00fc\u016d\u016f":"u","\u028c\u1dba":"v","\u028d":"w","\u00fd\u0178\u00ff\u028e":"y","\u017c\u017a\u017e":"z"};return function(d){for(var e in g)g.hasOwnProperty(e)&&(d=d.replace(RegExp("["+e+"]","g"),g[e]));return d}}();
function sanitizeAndSplitTags(g,d){for(var g=$.trim(g).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 "),e=g.split(/[\s|,;]+/),a=[],f=0;f<e.length;f++){var c=e[f].toLowerCase();StackExchange.options.site.nonAsciiTags||(c=StackExchange.helpers.noDiacritics(c));c=c.replace(/_/g,"-");c=c.replace(RegExp("[^a-z0-9.#+"+(d?"*":"")+(StackExchange.options.site.nonAsciiTags?"0-9,A-Z,_,a-z,\u00aa,\u00b5,\u00ba,\u00c0-\u00d6,\u00d8-\u00f6,\u00f8-\u02c1,\u02c6-\u02d1,\u02e0-\u02e4,\u02ec,\u02ee,\u0370-\u0374,\u0376-\u0377,\u037a-\u037d,\u0386,\u0388-\u038a,\u038c,\u038e-\u03a1,\u03a3-\u03f5,\u03f7-\u0481,\u048a-\u0523,\u0531-\u0556,\u0559,\u0561-\u0587,\u05d0-\u05ea,\u05f0-\u05f2,\u0621-\u064a,\u0660-\u0669,\u066e-\u066f,\u0671-\u06d3,\u06d5,\u06e5-\u06e6,\u06ee-\u06fc,\u06ff,\u0710,\u0712-\u072f,\u074d-\u07a5,\u07b1,\u07c0-\u07ea,\u07f4-\u07f5,\u07fa,\u0904-\u0939,\u093d,\u0950,\u0958-\u0961,\u0966-\u096f,\u0971-\u0972,\u097b-\u097f,\u0985-\u098c,\u098f-\u0990,\u0993-\u09a8,\u09aa-\u09b0,\u09b2,\u09b6-\u09b9,\u09bd,\u09ce,\u09dc-\u09dd,\u09df-\u09e1,\u09e6-\u09f1,\u0a05-\u0a0a,\u0a0f-\u0a10,\u0a13-\u0a28,\u0a2a-\u0a30,\u0a32-\u0a33,\u0a35-\u0a36,\u0a38-\u0a39,\u0a59-\u0a5c,\u0a5e,\u0a66-\u0a6f,\u0a72-\u0a74,\u0a85-\u0a8d,\u0a8f-\u0a91,\u0a93-\u0aa8,\u0aaa-\u0ab0,\u0ab2-\u0ab3,\u0ab5-\u0ab9,\u0abd,\u0ad0,\u0ae0-\u0ae1,\u0ae6-\u0aef,\u0b05-\u0b0c,\u0b0f-\u0b10,\u0b13-\u0b28,\u0b2a-\u0b30,\u0b32-\u0b33,\u0b35-\u0b39,\u0b3d,\u0b5c-\u0b5d,\u0b5f-\u0b61,\u0b66-\u0b6f,\u0b71,\u0b83,\u0b85-\u0b8a,\u0b8e-\u0b90,\u0b92-\u0b95,\u0b99-\u0b9a,\u0b9c,\u0b9e-\u0b9f,\u0ba3-\u0ba4,\u0ba8-\u0baa,\u0bae-\u0bb9,\u0bd0,\u0be6-\u0bef,\u0c05-\u0c0c,\u0c0e-\u0c10,\u0c12-\u0c28,\u0c2a-\u0c33,\u0c35-\u0c39,\u0c3d,\u0c58-\u0c59,\u0c60-\u0c61,\u0c66-\u0c6f,\u0c85-\u0c8c,\u0c8e-\u0c90,\u0c92-\u0ca8,\u0caa-\u0cb3,\u0cb5-\u0cb9,\u0cbd,\u0cde,\u0ce0-\u0ce1,\u0ce6-\u0cef,\u0d05-\u0d0c,\u0d0e-\u0d10,\u0d12-\u0d28,\u0d2a-\u0d39,\u0d3d,\u0d60-\u0d61,\u0d66-\u0d6f,\u0d7a-\u0d7f,\u0d85-\u0d96,\u0d9a-\u0db1,\u0db3-\u0dbb,\u0dbd,\u0dc0-\u0dc6,\u0e01-\u0e30,\u0e32-\u0e33,\u0e40-\u0e46,\u0e50-\u0e59,\u0e81-\u0e82,\u0e84,\u0e87-\u0e88,\u0e8a,\u0e8d,\u0e94-\u0e97,\u0e99-\u0e9f,\u0ea1-\u0ea3,\u0ea5,\u0ea7,\u0eaa-\u0eab,\u0ead-\u0eb0,\u0eb2-\u0eb3,\u0ebd,\u0ec0-\u0ec4,\u0ec6,\u0ed0-\u0ed9,\u0edc-\u0edd,\u0f00,\u0f20-\u0f29,\u0f40-\u0f47,\u0f49-\u0f6c,\u0f88-\u0f8b,\u1000-\u102a,\u103f-\u1049,\u1050-\u1055,\u105a-\u105d,\u1061,\u1065-\u1066,\u106e-\u1070,\u1075-\u1081,\u108e,\u1090-\u1099,\u10a0-\u10c5,\u10d0-\u10fa,\u10fc,\u1100-\u1159,\u115f-\u11a2,\u11a8-\u11f9,\u1200-\u1248,\u124a-\u124d,\u1250-\u1256,\u1258,\u125a-\u125d,\u1260-\u1288,\u128a-\u128d,\u1290-\u12b0,\u12b2-\u12b5,\u12b8-\u12be,\u12c0,\u12c2-\u12c5,\u12c8-\u12d6,\u12d8-\u1310,\u1312-\u1315,\u1318-\u135a,\u1380-\u138f,\u13a0-\u13f4,\u1401-\u166c,\u166f-\u1676,\u1681-\u169a,\u16a0-\u16ea,\u1700-\u170c,\u170e-\u1711,\u1720-\u1731,\u1740-\u1751,\u1760-\u176c,\u176e-\u1770,\u1780-\u17b3,\u17d7,\u17dc,\u17e0-\u17e9,\u1810-\u1819,\u1820-\u1877,\u1880-\u18a8,\u18aa,\u1900-\u191c,\u1946-\u196d,\u1970-\u1974,\u1980-\u19a9,\u19c1-\u19c7,\u19d0-\u19d9,\u1a00-\u1a16,\u1b05-\u1b33,\u1b45-\u1b4b,\u1b50-\u1b59,\u1b83-\u1ba0,\u1bae-\u1bb9,\u1c00-\u1c23,\u1c40-\u1c49,\u1c4d-\u1c7d,\u1d00-\u1dbf,\u1e00-\u1f15,\u1f18-\u1f1d,\u1f20-\u1f45,\u1f48-\u1f4d,\u1f50-\u1f57,\u1f59,\u1f5b,\u1f5d,\u1f5f-\u1f7d,\u1f80-\u1fb4,\u1fb6-\u1fbc,\u1fbe,\u1fc2-\u1fc4,\u1fc6-\u1fcc,\u1fd0-\u1fd3,\u1fd6-\u1fdb,\u1fe0-\u1fec,\u1ff2-\u1ff4,\u1ff6-\u1ffc,\u203f-\u2040,\u2054,\u2071,\u207f,\u2090-\u2094,\u2102,\u2107,\u210a-\u2113,\u2115,\u2119-\u211d,\u2124,\u2126,\u2128,\u212a-\u212d,\u212f-\u2139,\u213c-\u213f,\u2145-\u2149,\u214e,\u2183-\u2184,\u2c00-\u2c2e,\u2c30-\u2c5e,\u2c60-\u2c6f,\u2c71-\u2c7d,\u2c80-\u2ce4,\u2d00-\u2d25,\u2d30-\u2d65,\u2d6f,\u2d80-\u2d96,\u2da0-\u2da6,\u2da8-\u2dae,\u2db0-\u2db6,\u2db8-\u2dbe,\u2dc0-\u2dc6,\u2dc8-\u2dce,\u2dd0-\u2dd6,\u2dd8-\u2dde,\u2e2f,\u3005-\u3006,\u3031-\u3035,\u303b-\u303c,\u3041-\u3096,\u309d-\u309f,\u30a1-\u30fa,\u30fc-\u30ff,\u3105-\u312d,\u3131-\u318e,\u31a0-\u31b7,\u31f0-\u31ff,\u3400-\u4db5,\u4e00-\u9fc3,\ua000-\ua48c,\ua500-\ua60c,\ua610-\ua62b,\ua640-\ua65f,\ua662-\ua66e,\ua67f-\ua697,\ua717-\ua71f,\ua722-\ua788,\ua78b-\ua78c,\ua7fb-\ua801,\ua803-\ua805,\ua807-\ua80a,\ua80c-\ua822,\ua840-\ua873,\ua882-\ua8b3,\ua8d0-\ua8d9,\ua900-\ua925,\ua930-\ua946,\uaa00-\uaa28,\uaa40-\uaa42,\uaa44-\uaa4b,\uaa50-\uaa59,\uac00-\ud7a3,\uf900-\ufa2d,\ufa30-\ufa6a,\ufa70-\ufad9,\ufb00-\ufb06,\ufb13-\ufb17,\ufb1d,\ufb1f-\ufb28,\ufb2a-\ufb36,\ufb38-\ufb3c,\ufb3e,\ufb40-\ufb41,\ufb43-\ufb44,\ufb46-\ufbb1,\ufbd3-\ufd3d,\ufd50-\ufd8f,\ufd92-\ufdc7,\ufdf0-\ufdfb,\ufe33-\ufe34,\ufe4d-\ufe4f,\ufe70-\ufe74,\ufe76-\ufefc,\uff10-\uff19,\uff21-\uff3a,\uff3f,\uff41-\uff5a,\uff66-\uffbe,\uffc2-\uffc7,\uffca-\uffcf,\uffd2-\uffd7,\uffda-\uffdc":
"")+"-]","g"),"");c=c.replace(/^[#+-]+/,"");c=c.replace(/[.-]+$/,"");0<c.length&&-1==$.inArray(c,a)&&a.push(c)}return a}
StackExchange.question=function(){function g(){$(window).off("hashchange.highlightDestination").on("hashchange.highlightDestination",function(){var a=window.location.href;0>a.indexOf("#")||(a=a.match(/#(\d+|comment(\d+)_(\d+))/i))&&(a[2]?i(a[2],a[3]):b($(".answer[data-answerid="+a[1]+"]")))}).trigger("hashchange.highlightDestination")}var d=function(a,b){var c=null!=a;a||(a=$("div.question div.post-menu a.short-link"));var d=a.closest(".post-menu, .help-menu");if(a.hasClass("share-link"))d.find(".close-share-tip").click();
else{a.addClass("share-link");var e=a.attr("id").substring(10),f=a.closest(".col-section").length?"section":a.closest("div.question").length?"question":"answer",i="http://"+document.location.host+a.attr("href"),g=("answer"==f?"Answer: ":"")+$("#question-header a").text(),j='<div class="share-tip" style="display:none">share a link to this '+f+'<input type="text" value="'+i+'" style="display:block; width:292px;">';StackExchange.options.site.enableSocialMediaInSharePopup&&(j+='<div id="share-icons"><a id="share-gp-'+
e+'" class="share-gp" title="share link to this '+f+' on Google+">share [g+]</a><a id="share-fb-'+e+'" class="share-fb" title="share link to this '+f+' on Facebook">share [fb]</a><a id="share-tw-'+e+'" class="share-tw" title="share link to this '+f+' on Twitter">share [tw]</a></div>');var k=$(j+'<a class="close-share-tip" style="float:right">close</a></div>');StackExchange.options.site.enableSocialMediaInSharePopup&&(f=encodeURIComponent(i),g=encodeURIComponent(g),StackExchange.share.gplus($("#share-gp-"+
e,k),f,g,"2"),StackExchange.share.facebook($("#share-fb-"+e,k),f,g,"2"),StackExchange.share.twitter($("#share-tw-"+e,k),f,g,"2"),$("#share-icons a",k).click(function(){k.fadeOutAndRemove()}));b&&k.find(".close-share-tip").before('<a id="link-post-'+e+'" style="float:left">cite</a>');k.appendTo(d).fadeIn(c?"fast":0).bind("removing",function(){a.removeClass("share-link")}).find(".close-share-tip").click(function(){k.fadeOutAndRemove()}).end().find("input[type=text]").select()}},e=function(a){var b=
$("#post-form h2:first"),c=b.wrap("<div />").parent(),d=c.wrap("<div />").parent(),e=$("<div />").prependTo(d),f=d.height(),i=$("<div />"),a=$(a),g=parseInt(b.css("margin-bottom")),j=$("#content"),k=$("#wmd-input").outerWidth(),r=j.offset().left>b.offset().left-5&&"visible"!=j.css("overflow-x");i.css({height:0,overflowY:"hidden"}).appendTo(c).append(a);d.css({height:f,position:"relative"});c.css({position:"absolute",bottom:-g,width:k});e.addClass("answer-help-background").css({position:"absolute",
bottom:-g,height:0,width:k});r&&(e.css("left",0),c.animate({paddingLeft:5},1E3));i.animate({height:a.height()+g+10},1E3);e.animate({height:a.height()+g+10+f},1E3);$("<div style='float:right;margin-top:10px;'><a href='#'>ok</a></div>").hide().prependTo(c).fadeIn(1E3).find("a").one("click",function(a){var d=$(this).parent();setTimeout(function(){d.remove()},1);i.animate({height:0},1E3,function(){i.add(e).remove();b.unwrap().unwrap()});e.animate({height:0},1E3);r&&c.animate({paddingLeft:0},1E3);a.preventDefault()})},
a=function(){$.get("/posts/answer-help").then(e)},f,c,j,i=function(a,c){var d="#comment-"+a,e=$(d);e.length?b(e):StackExchange.comments.loadAll($("#comments-link-"+c)).done(function(){b($(d))})},b=function(a){var b=j;a.css({backgroundColor:f}).animate({backgroundColor:b},2E3,"linear",function(){$(this).css("background-color","")});a.is(".comment")&&a[0].scrollIntoView(!0)},k=function(a){a=a||{};$(".post-menu a.short-link").live("click",function(b){if(!b.ctrlKey&&!b.metaKey)return d($(this),a.showCitation),
!1})};return{initTitleSearch:function(a,b,c){var d=document.title,e=0,f,i;a.attr("autocomplete","off");var g=function(g){var j=a.val();if(!(""==j||j==f&&!0!==g||StackExchange.options.site.newTitleSearchBoxEnabled&&0<$(".title-float-selected:visible").length)){for(var k=j.split(" "),p=0,t=0;t<k.length;t++)0<$.trim(k[t]).length&&p++;k=(new Date).getTime();t=(k-e)/1E3;!0!==g&&(3>p||5>t)&&!a.hasClass("edit-field-overlayed")||(e=k,f=j,c&&(document.title=j?j+" - "+c:d),b.empty(),StackExchange.helpers.addSpinner(b),
i&&i.fadeOutAndRemove(),$.ajax({url:"/search/titles",dataType:"json",data:{title:j},success:function(a){if(a){if(a.notification){var c=StackExchange.postValidation.getSidebarPopupOptions();c.type="info";i=StackExchange.helpers.showMessage(b,a.notification,c)}a.content&&(b.html(a.content),setTimeout(function(){b.find(".answer-link a").attr("target","_blank")},1))}},complete:function(){StackExchange.helpers.removeSpinner(b)}}))}},j=!1;b.mouseenter(function(){j=!0}).mouseleave(function(){j=!1});a.keyup(g).blur(function(){var a=
function(){e=0;g()};if(j)b.one("mouseleave",a);else a()});return function(a){e=0;g(a)}},showShareTip:d,getQuestionId:function(a){a=(a?a.closest(".question"):$(".question")).data("questionid");if(!a)throw Error("getQuestionId could not find an id");return a},initShareLinks:k,canViewVoteCounts:function(){return c},init:function(b){c=b.canViewVoteCounts;StackExchange.question.fullInit?StackExchange.question.fullInit(b):StackExchange.question.bindAnonymousVoteDisclaimers();StackExchange.comments.init({autoShowCommentHelp:b.autoShowCommentHelp});
k(b);if(b.showAnswerHelp)$("#wmd-input").one("focus",a);b.showCitation&&$("div.share-tip a[id^='link-post-']").live("click",function(){$(this).closest(".post-menu").find(".close-share-tip").click();citation.show($(this))});j=b.backgroundColor;f=b.highlightColor;g()}}}();
StackExchange.question.bindAnonymousVoteDisclaimers=function(){function g(d){var e=$(this),a=e.closest("div.vote"),f=e.prop("className"),c=/vote-up/.test(f),g=/vote-down/.test(f),f=/star/.test(f);d.preventDefault();if(c||g)if(d=a.find("input").val(),StackExchange.options.isMobile)StackExchange.helpers.fireAndForget("/posts/popup/anon-vote/"+d+"?voteTypeId="+(c?2:3)),c='Thank you for your feedback.<br />Please <a href="/users/login?returnurl='+escape(document.location)+'">log in or register</a> to vote for this '+
(e.closest(".answer").length?"answer":"question")+".",StackExchange.helpers.showMessage(e,c,{type:"info",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}});else{if(e="anon-vote-popup-"+d,!a.is(":working")&&!$("."+e).length){a.data("working",!0);$(".anon-vote-popup").fadeOutAndRemove();StackExchange.helpers.removeMessages();var i=$('<div class="anon-vote-popup popup">Sending feedback&nbsp;</div>').addClass(e).addSpinner();i.appendTo("body").center().fadeIn("fast");$.ajax({type:"POST",
url:"/posts/popup/anon-vote/"+d+"?voteTypeId="+(c?2:3),dataType:"html",success:function(a){i.html(a)},error:function(){i.remove()},complete:function(){a.data("working",!1)}})}}else f&&($(".anon-vote-popup").fadeOutAndRemove(),c='Please <a href="/users/login?returnurl='+escape(document.location)+'">log in or register</a> to favorite this '+(e.closest(".answer").length?"answer":"question")+".",StackExchange.helpers.showMessage(e,c,{type:"info",position:{my:"left top",at:"right center"},css:{"margin-left":"-10px"}}))}
$(".vote-up-off, .vote-down-off, .star-off:not(.disabled)").each(function(){var d=$(this);d.data("bound-anonymous")||(d.data("bound-anonymous",!0),d.click(g))});StackExchange.question.bindFetchAcceptedAnswerDates()};
StackExchange.question.bindFetchAcceptedAnswerDates=function(){$(".load-accepted-answer-date").hover(function(){var g=$(this);if(!g.is(":working")){g.working(!0);var d=g.closest(".answer").data("answerid");d?$.get("/posts/"+d+"/accepted-answer-date",function(d){g.attr("title",d)}):g.attr("title","")}})};
StackExchange.comments=function(){function g(a,d){this.postId=a;this.jDiv=d;this.jtBody=d.find(" > table > tbody");this.jCommentsLink=$("#comments-link-"+a)}function d(c){var d=(c.constructor===$?c:$(c)).closest(".question, .answer, div[id^='post-']").find(".comments"),c=d.attr("id").replace(/^comments-/,"");if(a[c])return a[c];d=new g(c,d);return a[c]=d}function e(){if(0!=$(".question[data-questionid]").length){var a=StackExchange.question.getQuestionId();$(".comment .comment-date > span").each(function(){var d=
$(this),e=d.closest(".answer"),b=e&&e.length?e.data("answerid"):0,e=d.closest(".comment").attr("id").substr(8),b=b?b:a,e="#comment"+e+"_"+b;0<location.href.indexOf("/questions/")?d.wrap('<a class="comment-link" href="{hash}"></a>'.formatUnicorn({hash:e})):d.wrap('<a class="comment-link" href="/q/{pid}/{hash}"></a>'.formatUnicorn({hash:e,pid:b}))})}}var a={},f=function(){};g.prototype={checkDiscussion:f,ensureInput:f,saveEditingComments:f,restoreEditingComments:f,commentsShown:function(){this.jtBody.data("remaining-comments-count",
0)},addShow:function(a){var d=this,e=this.loadAllComments().done(function(){d.checkDiscussion()}),b=this.ensureInput();b&&!a&&b.focus();e.done(function(){b&&0<b.length&&d.jCommentsLink.hide()})},ajax:function(a,d,e,b){e&&!b&&StackExchange.helpers.addSpinner(e,{"margin-left":"10px"});var f=this;return $.ajax(a).fail(function(a){var c=a.responseText;if(!c||100<=c.length)c="An error occured"+(d?" "+d:"");StackExchange.helpers.showErrorMessage(e||f.jDiv,c,{"transient":409==a.status});e&&!b&&StackExchange.helpers.removeSpinner()}).done(StackExchange.helpers.removeSpinner).promise()},
showComments:function(a,d){this.saveEditingComments(d);this.jtBody.html(a);this.restoreEditingComments();if("true"==this.jDiv.data("localized")){var f=this.jtBody.data("addlink-html");this.jCommentsLink.html($("<div/>").html(f).text());this.jtBody.data("addlink-disabled")&&!this.jCommentsLink.hasClass("disabled-link")&&this.jCommentsLink.addClass("disabled-link")}else this.jCommentsLink=$("#comments-link-"+this.postId),this.jCommentsLink.is(":visible")&&!d&&(f=$("#hidden-comments-link-"+this.postId).removeClass("dno").attr("id",
"comments-link-"+this.postId).show(),f.length&&(this.jCommentsLink.replaceWith(f),this.jCommentsLink=f));"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub]);e();this.commentsShown()},loadAllComments:function(a,d){this.jDiv.removeClass("dno");if(!a&&!/more comment/.test($("#comments-link-"+this.postId).text()))return $.Deferred().resolve().promise();var e=this;return this.ajax({type:"GET",url:"/posts/"+this.postId+"/comments"+(d||""),dataType:"html"},"while fetching comments").done(function(a){e.showComments(a)}).promise()}};
return{init:function(a){a=a&&a.post||document;$(a).on("click","a[id^='comments-link-']",function(a){$(this).hasClass("disabled-link")||(a.preventDefault(),a=/more comment/.test($(this).text()),d(this).addShow(a))});a==document&&e()},loadAll:function(a,e){return d(a).loadAllComments(!0,e)},extendPostUi:function(a){for(var d in a)a.hasOwnProperty(d)&&(g.prototype[d]=a[d])},uiForPost:d}}();
StackExchange.share=function(){function g(d,a,f){window.open(d,a,f)||(window.location.href=d)}function d(d,a,f){var a=a+("="+("undefined"!==typeof f?f:"1")),f=d.indexOf("?"),c=d.indexOf("#");return-1==f?-1==c?d+"?"+a:d.substring(0,c)+"?"+a+d.substring(c):-1==c?d+"&"+a:d.substring(0,c)+"&"+a+d.substring(c)}return{gplus:function(e,a,f,c){a=d(a,"sgp",c);e.click(function(){g("https://plus.google.com/share?url="+a,"sharegplus","toolbar=1,status=1,resizable=1,scrollbars=1,width=600,height=500")})},twitter:function(e,
a,f,c){a=d(a,"stw",c);e.click(function(){g("http://twitter.com/share?url="+a+"&ref=twitbtn&text="+f,"sharetwitter","toolbar=1,status=1,resizable=1,scrollbars=1,width=800,height=526")})},facebook:function(e,a,f,c){a=d(a,"sfb",c);e.click(function(){g("http://www.facebook.com/sharer.php?u="+a+"&ref=fbshare&t="+f,"sharefacebook","toolbar=1,status=1,resizable=1,scrollbars=1,width=626,height=436")})}}}();
function initTagRenderer(g,d){window.tagRenderer||(window.tagRendererRaw=function(e,a,f){var a=a||"",f=f||"a",c="";a||(g&&-1<$.inArray(e,g)?c=" required-tag":d&&-1<$.inArray(e,d)&&(c=" moderator-tag"));c="<"+f+" class='post-tag"+c+"'";"a"===f.toLowerCase()&&(c+=" href='"+a+"/questions/tagged/"+encodeURIComponent(e)+"' title=\"show questions tagged '"+e+"'\" rel='tag'");return c+(">"+e+"</"+f+">")},window.tagRenderer=function(d,a,f){return $(tagRendererRaw(d,a,f))})}
function showFadingHelpText(g){g.wrap('<div class="dno" />').show().parent().fadeIn("slow",function(){$(this).children().unwrap()})}
function initFadingHelpText(){var g={"wmd-input":"#how-to-format",tagnames:"#how-to-tag","tag-editor":"#how-to-tag",title:"#how-to-title","wmd-input-42":"#how-to-format"},d=$("#wmd-input, #tagnames, #title, .tag-editor input, #wmd-input-42"),e=function(a){return $(a).parent().hasClass("tag-editor")?g["tag-editor"]:g[$(a).attr("id")]};d.focus(function(){var a=e(this);d.each(function(){var c=e(this);c!=a&&$(c).hide()});var f=$(a);f.is(":visible")||showFadingHelpText(f)})}
$.fn.extend({postId:function(){var g=this.first();if(!g.hasClass("answer")||!g.hasClass("question"))g=g.closest(".answer, .question");return parseInt(g.find(".vote input")[0].value)}});
StackExchange.newsletterAd=function(){function g(a){a=$('<div id="lightbox-panel" class="popup newsletter-popup" style="display:block"></div>').append('<div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>').append(a);$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");a.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(function(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()})}function d(){var a=
StackExchange.options.site.name,a=$(['<div style="text-align: left;">','<h2 style="margin-bottom: 15px;">Subscribe to the '+a+" weekly newsletter</h2>",'<p><strong><a href="/users/login?returnurl=/newsletter/signup/redirect">Create an account on '+a+'</a> or <a href="/users/login?returnurl=/newsletter/signup/redirect">log in</a> if you already have one.</strong></p>','<form><label for="newsletter-email-input">Or, send newsletter emails to:</label> <input type="text" id="newsletter-email-input" maxlength="100" title="your email address" /> <input type="submit" value="Subscribe" id="newsletter-email-submit" /></form>',
$("#newsletter-ad .privacy-policy-agreement").parent().html(),"</div>"].join(""));a.find("form").submit(function(){var a=$(this),c=a.find("#newsletter-email-input"),d=a.find("#newsletter-email-submit"),e=$.trim(c.val());if(0==e.length)return!1;StackExchange.helpers.addSpinner(a);$.ajax({url:"/newsletter/signup/anon",type:"POST",dataType:"json",data:{email:e},success:function(b){"confirmed"==b.status&&!b.error?(c.attr("disabled",!0),d.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),
$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>')):"unconfirmed"==b.status&&!b.error?(c.attr("disabled",!0),d.replaceWith('<span style="line-height: 120%; text-align: center;"><strong>Subscribed!</strong></span>'),a.append("<br /><br/><p><em>Please click the link in the confirmation email to activate your subscription.</em></p>"),$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>')):
a.showErrorMessage(b.error||"there was a problem signing up for the newsletter<br />please try again later")},error:function(){a.showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},complete:function(){StackExchange.helpers.removeSpinner(a)}});return!1});g(a)}function e(){var a=window.location.pathname.toLowerCase(),d="unknown";"/"==a?d="homepage":"/questions"==a?d="questionlist":0==a.indexOf("/users/edit")?d="userprofile":0==a.indexOf("/questions/tagged/")?
d="questionlist_bytag":/^\/questions\/\d+/.test(a)&&(d="questionpage");return d}return{init:function(){StackExchange.using("gps",function(){StackExchange.gps.track("newsletter.show",{newsletter_type:e()},!0)});$("#newsletter-signup").click(function(){var a=$(this);if(StackExchange.options.user.isAnonymous)return d(),!1;StackExchange.helpers.addSpinner("#newsletter-signup-container");$.ajax({url:"/newsletter/signup",type:"POST",dataType:"json",success:function(d){d.url?window.location.href=d.url:"confirmed"==
d.status?$("#newsletter-signup-container").replaceWith('<div style="line-height: 200%; text-align: center;"><strong>Subscribed!</strong></div>'):"unconfirmed"==d.status?$("#newsletter-signup-container").replaceWith('<span style="line-height: 120%;"><strong>Success!</strong> Please click the link in the confirmation email to activate your subscription.</span>'):a.parent().showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},error:function(){a.parent().showErrorMessage("there was a problem signing up for the newsletter<br />please try again later")},
complete:function(){StackExchange.helpers.removeSpinner("#newsletter-signup-container")}})});$("#newsletter-preview").click(function(){var a=$(window).height(),a=Math.min(600,a-100),a=['<div id="newsleter-preview-pane" style="overflow: hidden; width: 660px; height: ',a,'px;"><iframe src="',$(this).attr("href"),'&suppressPromotion=true" width="660" height="',a,'" frameborder="0"></iframe></div>'].join("");g(a);return!1})},loader:function(a,d){var a=d||a,c=$(".newuser-greeting");$.ajax({url:"/newsletter/targetted/ajax",
data:{domain:a},success:function(a){$("#newsletter-ad").remove();c.empty().append($(a))},complete:function(){c.attr("class","").attr("style","")}});d||(window.sessionStorage.tNewsletter=a+"-continued")}}}();
(function(g,d,e,a){var f=!("selectionStart"in g("<input type='text' />")[0]);g.fn.caret=function(c,g){var i,b,k=this[0];if("object"===typeof c&&"number"===typeof c.start&&"number"===typeof c.end)i=c.start,b=c.end;else if("number"===typeof c&&"number"===typeof g)i=c,b=g;else if("string"===typeof c)-1<(i=k.value.indexOf(c))?b=i+c[d]:i=null;else if("[object RegExp]"===Object.prototype.toString.call(c)){var h=c.exec(k.value);null!=h&&(i=h.index,b=i+h[0][d])}if("undefined"!=typeof i)return f?(h=this[0].createTextRange(),
h.collapse(!0),h.moveStart("character",i),h.moveEnd("character",b-i),h.select()):(this[0].selectionStart=i,this[0].selectionEnd=b),this[0].focus(),this;if(f)if(b=document.selection,"textarea"!=this[0].tagName.toLowerCase()){h=this.val();i=b[e]()[a]();i.moveEnd("character",h[d]);var l=""==i.text?h[d]:h.lastIndexOf(i.text);i=b[e]()[a]();i.moveStart("character",-h[d]);var n=i.text[d]}else i=b[e](),b=i[a](),b.moveToElementText(this[0]),b.setEndPoint("EndToEnd",i),l=b.text[d]-i.text[d],n=l+i.text[d];else l=
k.selectionStart,n=k.selectionEnd;i=k.value.substring(l,n);return{start:l,end:n,text:i,replace:function(a){return k.value.substring(0,l)+a+k.value.substring(n,k.value[d])}}}})(jQuery,"length","createRange","duplicate");
StackExchange.captcha=function(){return{init:function(g,d){function e(){$("#lightbox, #lightbox-panel").fadeOutAndRemove()}var a=$(['<div id="lightbox-panel" class="popup captcha-popup" style="display: block; text-align: left;"><div class="popup-close"><a title="close this popup (or hit Esc)">&times;</a></div>',g,"</div>"].join("")),f=a.find("form:first");$('<div id="lightbox"></div>').appendTo($("body")).css("height",$(document).height()).fadeIn("fast");a.appendTo($("body")).center().fadeIn("fast").find(".popup-close").click(e);
$.getScript("http://api.recaptcha.net/js/recaptcha_ajax.js",function(){Recaptcha.create(StackExchange.options.site.recaptchaPublicKey,"recaptcha",{theme:"clean",callback:Recaptcha.focus_response_field});StackExchange.helpers.enableSubmitButton(f);f.submit(function(){StackExchange.helpers.disableSubmitButton(f);f.find('input[type="submit"]').addSpinnerAfter();$.ajax({url:"/captcha",type:"POST",dataType:"json",data:f.serialize(),success:function(a){a.captchaError?(StackExchange.helpers.removeSpinner(),
StackExchange.helpers.enableSubmitButton(f),f.find(".form-error").html(a.captchaError),Recaptcha.reload()):(e(),d(a))},error:function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.enableSubmitButton(f);StackExchange.helpers.showErrorMessage(f,"An error occurred submitting the CAPTCHA")}});return!1})})}}}();
StackExchange.gps=function(){function g(){var d;d=localStorage[c];d=!d?[]:JSON.parse(d);if(0<d.length){for(var b=(new Date).getTime(),e=[],g=0;g<d.length;g++){var j=d[g],n=b-j.now;if(0>n||36E5<n||10<g){a(j);return}e.push(j)}0<e.length&&f(e)}}function d(){StackExchange._gps_track&&($.each(StackExchange._gps_track,function(a,b){e(b)}),delete StackExchange._gps_track)}function e(a){a&&StackExchange.options&&StackExchange.options.user&&(a.properties&&!a.properties.user_type&&(a.properties.user_type=StackExchange.options.user.user_type),
!a.ab&&StackExchange.options.user.ab&&(a.ab=StackExchange.options.user.ab));var b=localStorage[c];b?(b=JSON.parse(b),b.push(a),localStorage[c]=JSON.stringify(b)):localStorage[c]=JSON.stringify([a])}function a(a){var b=localStorage[c];if(b){for(var b=JSON.parse(b),a=JSON.stringify(a),d=-1,e=0;e<b.length;e++){var f=JSON.stringify(b[e]);if(a==f){d=e;break}}-1!=d&&(b.splice(d,1),0==b.length?localStorage.removeItem(c):localStorage[c]=JSON.stringify(b))}}function f(c){$.isArray(c)||(c=[c]);$.ajax({type:"POST",
url:"/gps/event",data:JSON.stringify(c),success:function(){for(var b=0;b<c.length;b++)a(c[b])}})}var c="gps-pending",j=!1;return{init:function(a){if(j)return!0;j=!0;if(!a||!window.localStorage)return StackExchange.gps.track=function(){},delete StackExchange._gps_track,!1;d();g();return!0},track:function(a,b,c){a={evt:a,properties:b||{},now:(new Date).getTime()};e(a);c||f(a)},sendPending:g}}();
StackExchange.openid=function(){function g(a){a&&StackExchange.gps.track("openid.click",{openid_provider:a,location:j},!0)}function d(a,c){var d=c.find(".option-extra-fields");d.hide();c.find(".yahoo-button").click(function(){d.hide();e(a,"yahoo")});var f=function(f){var g="."+f+"-option";d.show();d.find("> div:not("+g+")").hide();d.find(g+", .extra-field-container").show();c.find(".extra-field").val("").focus();g=c.find(".extra-field-submit");g.unbind("click");g.click(function(){e(a,f,c.find(".extra-field").val())})};
c.find(".blogger-button").click(function(){f("blogger")});c.find(".aol-button").click(function(){f("aol")})}function e(a,c,d){c=i[c];d&&(c=c.replace("{username}",d));a.find(".use-facebook").val("false");a.find(".manual-openid").val(c);a.find(".submit-openid").click()}function a(a){a.find(".use-facebook").val("true");a.find(".manual-openid").val("");a.find(".submit-openid").click()}function f(a){return function(){StackExchange.using("editor",function(){StackExchange.cardiologist.ensureDraftSaved(a)})}}
function c(a,c,d,e){var g=a.find(".manual-openid").val();a.find(".use-facebook").val();f(function(){var a=$('<form method="post" action="/users/authenticate?returnurl='+encodeURIComponent(c)+'"></form>');if(g){var b=$('<input type="hidden" name="openid_identifier" />');a.append(b);b.val(g)}else{var b=$('<input type="hidden" name="oauth_version" />'),f=$('<input type="hidden" name="oauth_server" />');a.append(b);a.append(f);b.val("2.0");f.val("https://www.facebook.com/dialog/oauth")}a.append("<input type='hidden' name='fkey' value='"+
StackExchange.options.user.fkey+"' />");d&&e&&($('<input type="hidden" name="anon_vote_type" />').val(d).appendTo(a),$('<input type="hidden" name="anon_vote_hash" />').val(e).appendTo(a));StackExchange.navPrevention.stop();a.hide().appendTo("body").submit()})()}var j="unknown",i={yahoo:"http://yahoo.com/",google:"https://www.google.com/accounts/o8/id",aol:"http://openid.aol.com/{username}",blogger:"http://{username}.blogspot.com/"};return{initPostLogin:function(b,i){var h=decodeURIComponent(i);"/questions/ask"===
h&&(j="question_ask");var l=$(b),n=l.find(".new-login-left"),m=l.find(".new-login-right"),o=n.find(".show-more-options");o.click(function(){o.hide();m.show();return!1});m.find(".hide-more-options").click(function(){o.show();m.hide();return!1});l.removeClass("dno");d(l,m);n.find(".google-login").click(function(){g("Google");e(l,"google")});n.find(".facebook-login").click(function(){g("Facebook");a(l)});n.find(".stackexchange-login").click(f(function(){g("Stack Exchange");StackExchange.navPrevention.stop();
window.location="/users/login#create-account"}));l.find(".submit-openid").click(function(){c(l,h)})},initAnonVotePopup:function(b,d,f,i){var n=decodeURIComponent(d);j="votedialog";b.find(".google-login").click(function(){g("Google");e(b,"google")});b.find(".facebook-login").click(function(){g("Facebook");a(b)});b.find(".stackexchange-login").click(function(){g("Stack Exchange");window.location="/users/login#create-account"});b.find(".submit-openid").click(function(){c(b,n,f,i)})}}}();
